{"ast":null,"code":"var redshift = function redshift(maxOpacity) {\n  var filterNode = document.createElement(\"div\");\n  filterNode.style = \"\\n    position: fixed;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    background: #ff0000;\\n    opacity: 0;\\n    pointer-events: none;\\n  \";\n\n  window.onload = function () {\n    document.body.appendChild(filterNode);\n  };\n\n  var delta = 0;\n  var oldPos = 0; // listen to \"scroll\" event\n\n  window.onscroll = function () {\n    var newPos = window.scrollY;\n\n    if (oldPos !== null) {\n      delta = newPos - oldPos;\n    }\n\n    oldPos = window.scrollY;\n    var rotate = \"50\";\n    var velocity = Math.abs(delta) / 100;\n\n    if (velocity > maxOpacity) {\n      velocity = maxOpacity;\n    }\n\n    delta > 0 ? rotate = \"0\" : rotate = \"240\";\n    filterNode.style.filter = \"hue-rotate(\" + rotate + \"deg)\";\n    filterNode.style.opacity = velocity;\n  };\n};\n\nmodule.exports = redshift;","map":{"version":3,"sources":["/home/ryan/ryanmahan.github.io/node_modules/pointless-redshift/redshift.js"],"names":["redshift","maxOpacity","filterNode","document","createElement","style","window","onload","body","appendChild","delta","oldPos","onscroll","newPos","scrollY","rotate","velocity","Math","abs","filter","opacity","module","exports"],"mappings":"AAAA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAEC,UAAF,EAAkB;AACjC,MAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAF,EAAAA,UAAU,CAACG,KAAX;;AAWAC,EAAAA,MAAM,CAACC,MAAP,GAAgB,YAAM;AACpBJ,IAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,UAA1B;AACD,GAFD;;AAIA,MAAIQ,KAAK,GAAG,CAAZ;AACA,MAAIC,MAAM,GAAG,CAAb,CAlBiC,CAqBjC;;AACAL,EAAAA,MAAM,CAACM,QAAP,GAAkB,YAAM;AAEtB,QAAIC,MAAM,GAAGP,MAAM,CAACQ,OAApB;;AACA,QAAIH,MAAM,KAAK,IAAf,EAAqB;AACnBD,MAAAA,KAAK,GAAGG,MAAM,GAAGF,MAAjB;AACD;;AACDA,IAAAA,MAAM,GAAGL,MAAM,CAACQ,OAAhB;AAEA,QAAIC,MAAM,GAAG,IAAb;AACA,QAAIC,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAASR,KAAT,IAAkB,GAAjC;;AACA,QAAIM,QAAQ,GAAGf,UAAf,EAA2B;AACzBe,MAAAA,QAAQ,GAAGf,UAAX;AACD;;AACDS,IAAAA,KAAK,GAAG,CAAR,GAAYK,MAAM,GAAG,GAArB,GAA2BA,MAAM,GAAG,KAApC;AACAb,IAAAA,UAAU,CAACG,KAAX,CAAiBc,MAAjB,GAA0B,gBAAgBJ,MAAhB,GAAyB,MAAnD;AACAb,IAAAA,UAAU,CAACG,KAAX,CAAiBe,OAAjB,GAA2BJ,QAA3B;AACD,GAhBD;AAiBD,CAvCD;;AAyCAK,MAAM,CAACC,OAAP,GAAiBtB,QAAjB","sourcesContent":["const redshift = ( maxOpacity ) => {\n  let filterNode = document.createElement(\"div\")\n  filterNode.style = `\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: #ff0000;\n    opacity: 0;\n    pointer-events: none;\n  `\n\n  window.onload = () => {\n    document.body.appendChild(filterNode);\n  }\n  \n  let delta = 0;\n  let oldPos = 0;\n  \n\n  // listen to \"scroll\" event\n  window.onscroll = () => {\n    \n    let newPos = window.scrollY;\n    if (oldPos !== null) {\n      delta = newPos - oldPos;\n    }\n    oldPos = window.scrollY;\n\n    let rotate = \"50\"\n    let velocity = Math.abs(delta) / 100\n    if (velocity > maxOpacity) {\n      velocity = maxOpacity;\n    }\n    delta > 0 ? rotate = \"0\" : rotate = \"240\"\n    filterNode.style.filter = \"hue-rotate(\" + rotate + \"deg)\"\n    filterNode.style.opacity = velocity;\n  };\n}\n\nmodule.exports = redshift;"]},"metadata":{},"sourceType":"script"}